%  -----------------------------------------------------------------------------
%  Author         : Bimalka Piyaruwan Thalagala
%  GitHub         : https://github.com/bimalka98
%  Last Modified  : 2022-05-10
%  -----------------------------------------------------------------------------

\documentclass[a4paper,12pt]{report}%,twocolumn
\input{settings/packages}
\input{settings/page}
\input{settings/macros}
\renewcommand\bibname{References}
\usepackage{acronym}



\begin{document}
\input{content/title_page}
%---------------------------------------------------------------------------


\chapter*{Preface}
\addcontentsline{toc}{chapter}{Preface}
% A brief account of the Preface
This report was composed as partial fulfillment of the requirements of Module EN3992 - Industrial Training, in the curriculum of B.Sc. in Engineering (Electronic and Telecommunication) at the University of Moratuwa, Sri Lanka. The experience and knowledge that I gained during the six months of my industrial training were used and were the inspiration to create this report.\\

 

\cleardoublepage
%---------------------------------------------------------------------------



\chapter*{Acknowledgment}
\addcontentsline{toc}{chapter}{Acknowledgment}
%Appreciation of those who helped in the internship process

I would like to gratefully acknowledge all of the people who helped me to make this six months of special industrial training period a massive success, starting from the point of applying to a company to the point I left the training organization at the completion of six months.\\

First of all, I would like to express my heartfelt gratitude to Professor Kapila Jayasinghe who was our supervisor for us throughout the six months of the internship period. The advice he provided us with regard to professional engineering practices and ethics was invaluable. In addition to that the directions he provided us to gain the required technical skills required for the allocated project were priceless. I believe the mindset that he built in us, towards working under minimum supervision, will be a massive support for us to thrive in the fast-moving industry.\\

Next, I would like to express my gratitude toward Miss. Laknie Jayasinghe who was the Engineer in charge of us in our training period. The support she provided us to improve our soft skills as well as technical skills as a professional engineers, is highly appreciated. The support she provided when composing the technical documentation of my allocated task by pointing out the mistakes and the areas of improvement was invaluable and must be mentioned at this point. Moreover, her support in validating the project deliveries at the end of the training period is highly appreciated.\\

Last but not least, I would like to express my heartiest gratitude to Mr Janka Kulathunga, the manager of the Lanka Electronics research and development section and Mr Aloka Perera, an electronic engineer in LE Robotics (Pvt.) Ltd for being available for us whenever we needed their support.



%---------------------------------------------------------------------------

\tableofcontents %Three header levels (e.g. 2.7.1) are adequate
\vfill
\begin{center}
	\textbf{\textit{*PDF is clickable}}
\end{center}

%---------------------------------------------------------------------------
%Descriptions of Abbreviations used
\chapter*{List of Abbreviations}
\addcontentsline{toc}{chapter}{List of Abbreviations}
\input{content/acronym}

%---------------------------------------------------------------------------
\listoffigures %Figures (including charts) Numbered as per the Chapter
%---------------------------------------------------------------------------
\listoftables %Tables Numbered as per the Chapter
%---------------------------------------------------------------------------




\pagebreak

\chapter{Description of the organization and business, its past, present and	future}

For my special industrial training, I got the opportunity to work as an engineering trainee at LE Robotics (Pvt.) Ltd. located at 100/4, Divulapitiya Road, Minuwangoda, Sri Lanka.It is a local \ac{rnd} facility where they work on industrial articulated robot arms and related technologies. This chapter provides an extensive description of the organization and business as well as information about its past, present and future.

\section{Organization and Business}

\subsection{Introduction}
LE robotics (Pvt.) Ltd. is a local \ac{rnd} facility that has been established by Prof. J.A.K.S. Jayasinghe who is a senior professor in the Department of Electronic and Telecommunication Engineering at the University of Moratuwa in Sri Lanka.\\

LE robotics (Pvt.) Ltd. is the first in the Sri Lankan market to offer fully customisable robotics solutions `Made in Sri Lanka' for various automation needs for an affordable price with expertise based in Sri Lanka. In the year 2005, the company designed and manufactured the first custom robotics solution in their affiliated company, Lanka Electronics (Pvt.) Ltd. Since then, they have been developing various robotics solutions and related technologies in the facility.

\begin{figure}[H]
	\centering
	\fbox{
		\includegraphics[width=0.5\linewidth]{figures/logoler}
	}
	\caption{Logo of the LE Robotics (Pvt.) Ltd.}
	\label{fig:logoler}
\end{figure}

\subsection{Services and Products}

As mentioned previously LE Robotics Pvt. Ltd. provides services and tailor-made products for various automation needs of its customers. When it comes to the services they provide, the following key services can be highlighted.

\begin{enumerate}
	\item Process Analysis to identify the automation needs and  challenges of organizations
	\item Product customization to provide the best tailor-made solution for requirements
	\item Providing local expertise with ease of access
	\item Providing lifetime support for the products
\end{enumerate}

In addition to the services they provide, the following products are manufactured at LE Robotics Pvt. Ltd. \ac{rnd} of the related technologies of those products is a key activity among the day-to-day activities in the facility. 


\begin{enumerate}
	\item \textbf{6 DOF Robots} - Robots with six degrees of freedom (Figure \ref{fig:sixdofrobot} depicts such a model)
	\begin{itemize}
		\item Robotics solutions with the capability to mimic human arm operations
		\item Offers the flexibility to provide you with fully customized robotic movements to suit your requirement
		\item  Around 1 m reach and 0.1 mm placement precision
	\end{itemize}
	
	\begin{figure}[H]
		\centering
		\fbox{
			\includegraphics[width=0.7\linewidth]{figures/robots/sixdofrobot}
		}
		\caption{Model \textit{LE 6 R1149} 6-DOF articulated robot arm\cite{articlulated_robots}}
		\label{fig:sixdofrobot}
	\end{figure}
	
	
	
	\item\textbf{ 4 DOF Robots} - Robots with four degrees of freedom (Figure \ref{fig:fourdofrobot} depicts such a model)
	\begin{itemize}
		\item Robotics solutions with superior high-speed performance, high rigidity and high accuracy
		\item Array of options with a compact design
		\item Around 500 mm reach and 0.1 mm placement precision
	\end{itemize}

	\begin{figure}[H]
		\centering
		\fbox{
			\includegraphics[width=0.7\linewidth]{figures/robots/fourdofrobot}
		}
		\caption{Model \textit{LE 4 R565} 4-DOF \ac{scara} robot arm\cite{scara_robots}}
		\label{fig:fourdofrobot}
	\end{figure}
	
	
	
	\item \textbf{Custom Made Robots} - Robots designed according to the customer's needs
	\begin{itemize}
		\item Reach and Payload specifications are possible to be customized as per your process requirements
		\item Robotics Solutions to carry out simple pick and place operations
	\end{itemize}
\end{enumerate}





\chapter{Description of familiarization work carried out}

\chapter{Exposure to systems (HSE, Financial, Administration, Logistics, etc.)}

%===========================================================================
\chapter{Project Work}

By title, the project that I was assigned, was \textbf{\textit{Machine vision based Real-time Motion Planning for an Industrial Articulated Robot Arm}}. In simple words, it was a project related to an automatic pick and place machine which can be used to pick objects placed on a conveyor belt and pass them to the next stage of processing.\\

My contribution to that project was to develop the following three aspects of the system. 

\begin{enumerate}[I.]
	\item Development of an object detection framework
	\item Development of an application to train an object classification model (referred as \textit{Classifier Trainer \ac{gui}} in this document)
	\item Development of an application for camera calibration (referred as \textit{Camera Calibrator \ac{gui}} in this document)
\end{enumerate}

Subsequent sections explain the mentioned sub-projects that were undertaken by me during the industrial training period. Implementation details are not exposed in this report as it does not comply with professional engineering ethics.


\pagebreak
\section{Development of an Object Detection Framework}

The first project, that I was assigned as a trainee electronic engineer was related to the \ac{cv} field. In this project, an Object Detection Framework was developed to be deployed in an Automatic Pick and Place Machine. In a summary, the framework is capable of identifying \ac{roi}, detecting and classifying objects, and determining the location and orientation of objects with respect to a real-world coordinate system for grasping (picking). This section explains everything related to the development of that framework.


\subsection{Problem Definition}\label{Problem Definition}
Most of the robotic arms used in industrial environments operate in a pre-programmed cycle. When comes to the way a human does the same task is much different as the path planning for picking an object may change from cycle to cycle because of the perception obtained through human vision. \Ac{cv} is the technology and methods incorporated to mimic the human vision in order to gain insights into the operating environment of the robotics system.\\

When it comes to real-time object detection using \ac{cv}, there is an inevitable trade-off between the accuracy and the speed of the operation. This depends entirely on the used \ac{cv} algorithms and the computational power of the available hardware. If the robotic system/ arm in interest is not controlled through a dedicated industrial PC with adequate computational resources, the amount of resources that can be allocated to the \ac{cv} unit becomes limited.  This will eventually result in great delays (which is not desirable when it comes to real-time operations) to produce the required outputs by processing the acquired images through the associated camera.\\

Due to the limitations in the resources, the initial problem of real-time object detection on a moving conveyor was subdivided into three problems.

\begin{itemize}
	\item \textbf{Case 1:} Detection of objects placed in a \textbf{\textit{static environment}} (no conveyor belt is associated). Picking and placing is carried out by the robot in the usual way.
	
	\item  \textbf{Case 2:} Detection of objects placed on a \textbf{\textit{non-continuous conveyor belt}}. The conveyor belt can be paused when objects are detected and picking and placing is carried out thereafter.
	
	\item \textbf{Case 3:} Detection of objects placed on a \textbf{\textit{continuously moving conveyor belt}}. Picking and placing happen while the conveyor is moving.
\end{itemize}



\subsection{Solution}
\label{sys_intro}
As the initial stage of the project, case 1 mentioned in Section \ref{Problem Definition} was developed. It consisted of developing a \ac{cv} subsystem for detecting \textbf{\textit{stationary objects}} placed in a \textbf{\textit{static environment}}. In this case, no conveyor belt is used and objects are placed in the \ac{fov} of the camera.\\

Figure \ref{fig:ioprocess} shows the interconnection between inputs and outputs of the developed system. Once the video stream from a camera is fed into the system, it is capable of,



\begin{enumerate}
	\item Determining the grasping location of an object in a real-world coordinate system. The centroid of the 2D view of the object was considered as the grasping location. 
	
	\item Determining the gripper's angle. Orientation of object with respect to the positive x direction of the same real-world coordinate system was used for this.
	
	\item  Determining the class/ type of the detected objects using a \ac{sift} and \ac{svm} based classification algorithm.
\end{enumerate}

and providing them to the main controller of the pick and place machine as requested by it. 

\begin{figure}[H]
	\centering
	
	\fbox{
		\includegraphics[width=0.9\linewidth]{figures/system/ioprocess.eps}
	}
	\caption{Interconnection between inputs and outputs of the \ac{cv} subsystem}
	\label{fig:ioprocess}
\end{figure}



Figure \ref{fig:cvsubsys} depicts the interconnections between the existing robot controller and the newly developed computer vision subsystem. Outputs shown in Figure \ref{fig:ioprocess} are provided to the robot controller through a serial communication link built using an \ac{uart} circuitry. For transferring data to the Raspberry Pi from the working PC, \ac{sftp} over Wi-Fi technology was used.

\begin{figure}[H]
	\centering
	
	\fbox{
		\includegraphics[width=0.9\linewidth]{figures/system/system.eps}
	}
	\caption{Interconnections between the existing robot controller and the \ac{cv} subsystem}
	\label{fig:cvsubsys}
\end{figure}

For the implementation of the prototype, third-party tools given below are used.\\

\begin{enumerate}[1.]
	\item \textbf{\ac{rpi} 3 B+ Single Board Computer (SBC)}\\
	\textit{Product brief:} Online available at \url{https://datasheets.raspberrypi.com/rpi3/raspberry-pi-3-b-plus-product-brief.pdf}.
	
	\item \textbf{Logitech C310 HD Webcam, 720p Video}\\
	\textit{Technical specifications:} Online available at \url{https://support.logi.com/hc/en-us/articles/360023464573-Logitech-HD-Webcam-C310-Technical-Specifications}.
	
	\item \textbf{OpenCV open source computer vision library stable release 4.4.0}\cite{opencv_library} \\
	\textit{Stable and development releases:} Online available at \url{https://github.com/opencv/opencv}; A pre-compiled version of this library, which is optimized for \ac{cv} and Deep Learning on Raspberry Pi was used.
	
	\item \textbf{Gordon's Arduino wiring-like WiringPi Library for the Raspberry Pi}\cite{wiringpi} \\
	\textit{Unofficial Mirror for WiringPi bindings:} Online available at \url{https://github.com/WiringPi/WiringPi}.
	
\end{enumerate}


During the operation of the pick and place robot, the developed object detection algorithm runs only inside the \ac{rpi}. However, for the operation of that algorithm, it requires the data shown in Table \ref{table:datafiles}. A Windows \ac{gui} was developed to generate those data and `Description' column of Table \ref{table:datafiles} provides only a simple overview of that data . Subsequent sections explain the functionality and the working principles of the mentioned \ac{gui}, in detail.\\

\begin{table}[H]
	\captionsetup{font=sc, labelsep=newline}
	\centering
	\caption{ Data files required to run the object detection framework}
	\begin{tabular}{|p{0.3\linewidth}  |p{0.6\linewidth}  |}
		\hline
		\textbf{File Name} & \textbf{Description}\\\hline
		{\tt calibration\_data.xml} & This file includes camera calibration data. That is, intrinsic and extrinsic parameters of the associated camera.\\ \hline
		{\tt objects\_data.xml} & This file includes object classification model's data. That is, the data required for the object classification (class names, trained support vector machines and etc.).\\
		\hline
	\end{tabular}
	\label{table:datafiles}
\end{table}


\pagebreak
\section{Development of an Application to Train an Object Classification Model}

%===========================================================================
\chapter{Hands on experiences}

\chapter{Soft Skills Development}

\chapter{SWOT Analysis of the organization and self}

\chapter{Conclusion: Own perspective of areas to be improved (of the whole training process including self)}


\begin{appendices}
	\chapter{Guidelines}
\end{appendices}

\twocolumn
\bibliographystyle{plain}
\bibliography{refer}

%---------------------------------------------------------------------------
\end{document}
-
